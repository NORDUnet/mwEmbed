!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}}("undefined"!=typeof self?self:this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s="pwNi")}({CUnC:function(t,e,n){"use strict";function o(t){return t.match(/^https?:\/\//i)||(t="http://"+t),t}function i(t){v=t||"",_=!0}function r(t,e,n){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];_&&console[t].apply(console,["["+v+"] ["+t+"]"+(e?" ["+e+"]":"")+" : "+n].concat(o))}function s(t,e,n,o,i){var r={width:0,height:0,left:0,top:0,scaleToTargetWidth:!0};if(t<=0||e<=0||n<=0||o<=0)return r;var s=n,a=e*n/t,l=t*o/e,u=o,p=l>n;return p=p?i:!i,p?(r.width=Math.abs(s),r.height=Math.abs(a),r.scaleToTargetWidth=!0):(r.width=Math.abs(l),r.height=Math.abs(u),r.scaleToTargetWidth=!1),r.left=Math.abs((n-r.width)/2),r.top=Math.abs((o-r.height)/2),r}function a(t,e){if(void 0===e&&(e={}),!t)return e;try{return{result:JSON.parse(t)}}catch(t){return{error:t}}}Object.defineProperty(e,"__esModule",{value:!0});var l,u=n("KM04"),p=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),h=this&&this.__assign||function(){return h=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},h.apply(this,arguments)},d={position:"absolute",display:"table",boxSizing:"border-box",outline:"none"},c={position:"relative",width:"100%",height:"100%",appearance:"none",border:"none",display:"table-cell",verticalAlign:"middle",textAlign:"center",cursor:"pointer",wordBreak:"break-all",textRendering:"geometricPrecision"},f={styles:{}},y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={disableClick:!0,isReady:!1},e.handleClick=function(){var t=e.props.hotspot,n=e.state.disableClick;if(t.onClick&&!n)switch(t.onClick.type){case"openUrl":if(!t.onClick.url)return;var i=o(t.onClick.url);window.open(i,"_top");break;case"openUrlInNewTab":if(!t.onClick.url)return;e.props.pauseVideo();var i=o(t.onClick.url);try{window.open(i,"_blank")}catch(t){window.open(i,"_top")}}},e}return p(e,t),e.prototype.componentDidMount=function(){var t=this.props.hotspot;if(!t||!t.onClick)return void this.setState({isReady:!0});var e=t.onClick,n=e.type,o=e.url;this.setState({isReady:!0,disableClick:!n||!o||0==n.length||0===o.length})},e.prototype.render=function(){var t=this.props.hotspot,e=t.layout,n=t.label,o=this.state,i=o.isReady,r=o.disableClick;if(!i||!this.props.visible)return null;var s=h({},d,{top:e.y,left:e.x,height:e.height,width:e.width}),a=h({},c,t.styles,{cursor:r?"default":"pointer"});return Object(u.h)("div",{onClick:this.handleClick,style:s},Object(u.h)("div",{style:a},n))},e.defaultProps=f,e}(u.Component),g=y,_=!1,v="";!function(t){t.Show="show",t.Hide="hide"}(l||(l={}));var m,b=function(){function t(t){this.isFirstTime=!0,this.hotspotsLayoutReady=!1,this.lastHandledTime=null,this.lastHandledTimeIndex=null,this.nextTimeToHandle=null,this.hotspotsChanges=[],this.playerSize=null,this.videoSize=null,r("debug","ctor","executed"),this.hotspots=t,this.prepareHotspots()}return t.prototype.updateLayout=function(t,e){return this.videoSize=e,this.playerSize=t,this.recalculateHotspotsLayout(),this.lastHandledTimeIndex?this.createHotspotsSnapshot(this.lastHandledTimeIndex):[]},t.prototype._calculateLayout=function(t,e){var n=t.rawLayout;return{x:e.left+n.relativeX*e.width,y:e.top+n.relativeY*e.height,width:n.relativeWidth*e.width,height:n.relativeHeight*e.height}},t.prototype.recalculateHotspotsLayout=function(){var t=this;if(r("debug","recalculateHotspotsLayout","calculating hotspots layout based on video/player sizes"),!this.playerSize||!this.videoSize)return r("debug","recalculateHotspotsLayout","missing video/player sizes, hide all hotspots"),void(this.hotspotsLayoutReady=!1);var e=this.playerSize,n=e.width,o=e.height,i=this.videoSize,a=i.width,l=i.height;if(!(n&&o&&a&&l))return r("debug","recalculateHotspotsLayout","missing video/player sizes, hide all hotspots"),void(this.hotspotsLayoutReady=!1);var u=s(a,l,n,o,!0);r("debug","recalculateHotspotsLayout","recalculate hotspots layout based on new sizes",u),(this.hotspots||[]).forEach(function(e){e.layout=t._calculateLayout(e,u)}),this.hotspotsLayoutReady=!0},t.prototype.getSnapshot=function(t){var e=this.findClosestLastIndexByTime(t);return r("debug","getSnapshot","create snapshot based on time "+t,{timeIndex:e}),this.createHotspotsSnapshot(e)},t.prototype.updateTime=function(t,e){void 0===e&&(e=!1);var n=this,o=n.isFirstTime,i=n.lastHandledTime,s=n.nextTimeToHandle;if(0===this.hotspotsChanges.length)return o&&(r("log","updateTime","hotspots list empty. will always return empty snapshot"),this.isFirstTime=!1),{snapshot:[]};var a=!o&&null!==i&&null!==s&&(i>t||t-s>2e3),l=o||null!==this.lastHandledTime&&this.lastHandledTime>t||null!=this.nextTimeToHandle&&t>=this.nextTimeToHandle,u=this.findClosestLastIndexByTime(t),p=u<0?0:this.hotspotsChanges[u].time;if(!l)return e?{snapshot:this.createHotspotsSnapshot(u)}:{delta:this.createEmptyDelta()};if(r("debug","updateTime","has changes to handle. check if need to return snapshot instead of delta based on provided new time",{currentTime:t,closestChangeIndex:u,closestChangeTime:p,lastHandledTime:i,nextTimeToHandle:s,isFirstTime:o}),o||e||a){r("debug","updateTime","some conditions doesn't allow returning delta, return snapshot instead",{isFirstTime:o,userSeeked:a,forceSnapshot:e});var h=this.createHotspotsSnapshot(u);return this.updateInternals(p,u),{snapshot:h}}var d=this.createHotspotsDelta(u);return this.updateInternals(p,u),{delta:d}},t.prototype.createHotspotsSnapshot=function(t){if(!this.hotspotsLayoutReady||t<0||!this.hotspotsChanges||0===this.hotspotsChanges.length)return r("log","createHotspotsSnapshot","resulted with empty snapshot",{targetIndex:t,hotspotsLayoutReady:this.hotspotsLayoutReady,hotspotsCount:(this.hotspotsChanges||[]).length}),[];for(var e=[],n=0;n<=t;n++){var o=this.hotspotsChanges[n],i=e.indexOf(o.cuePoint);o.type===l.Show?-1===i&&e.push(o.cuePoint):-1!==i&&e.splice(i,1)}return r("log","createHotspotsSnapshot","resulted snapshot",{snapshot:e}),e},t.prototype.createHotspotsDelta=function(t){if(!this.hotspotsLayoutReady||!this.hotspotsChanges||0===this.hotspotsChanges.length)return r("log","createHotspotsDelta","resulted with empty delta",{hotspotsLayoutReady:this.hotspotsLayoutReady,hotspotsCount:(this.hotspotsChanges||[]).length}),this.createEmptyDelta();var e=this.lastHandledTimeIndex;if(null===e)return r("log","createHotspotsDelta","invalid internal state. resulted with empty delta"),this.createEmptyDelta();var n=[],o=[];r("log","createHotspotsDelta","find hotspots that were added or removed");for(var i=e+1;i<=t;i++){var s=this.hotspotsChanges[i],a=n.indexOf(s.cuePoint);s.type===l.Show?-1===a&&n.push(s.cuePoint):-1!==a?(r("log","createHotspotsDelta","hotspot was marked with type "+s.type+" at "+s.time+". remove from new hotspots list as it wasn't visible yet",{hotspot:s.cuePoint}),n.splice(a,1)):-1===o.indexOf(s.cuePoint)&&(r("log","createHotspotsDelta","hotspot was marked with type "+s.type+" at "+s.time+". add to removed hotspots list",{hotspot:s.cuePoint}),o.push(s.cuePoint))}return r("log","createHotspotsDelta","resulted delta",{newHotspots:n,removedHotspots:o}),{show:n,hide:o}},t.prototype.updateInternals=function(t,e){var n=this.hotspotsChanges;if(n&&0!==n.length){var o=e>=n.length-1,i=null===e;this.lastHandledTime=t,this.lastHandledTimeIndex=e,this.nextTimeToHandle=i?n[0].time:o?n[n.length-1].time:n[e+1].time,this.isFirstTime=!1,r("debug","updateInternals","update inner state with new time and index",{lastHandledTime:this.lastHandledTime,lastHandledTimeIndex:this.lastHandledTimeIndex,nextTimeToHandle:this.nextTimeToHandle})}},t.prototype.createEmptyDelta=function(){return{show:[],hide:[]}},t.prototype.binarySearch=function(t,e){if(!t||0===t.length)return null;if(e<t[0].time)return-1;if(e>t[t.length-1].time)return t.length-1;for(var n=0,o=t.length-1;n<=o;){var i=Math.floor((o+n+1)/2);if(e<t[i].time)o=i-1;else{if(!(e>t[i].time))return i;n=i+1}}return Math.min(n,o)},t.prototype.findClosestLastIndexByTime=function(t){var e=this.hotspotsChanges,n=this.binarySearch(e,t);if(null===n)return-1;for(var o=e.length;n<o-1&&e[n+1].time===t;)n++;return n},t.prototype.prepareHotspots=function(){var t=this;(this.hotspots||[]).forEach(function(e){null!==e.startTime&&void 0!==e.startTime&&e.startTime>=0&&t.hotspotsChanges.push({time:e.startTime,type:l.Show,cuePoint:e}),null!==e.endTime&&void 0!==e.endTime&&e.endTime>=0&&t.hotspotsChanges.push({time:e.endTime,type:l.Hide,cuePoint:e})}),this.hotspotsChanges.sort(function(t,e){return t.time<e.time?-1:t.time===e.time?0:1}),r("debug","prepareHotspots","tracking "+this.hotspotsChanges.length+" changes",this.hotspotsChanges)},t}(),w=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),C=this&&this.__assign||function(){return C=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},C.apply(this,arguments)};!function(t){t.Monitor="monitor",t.Seeked="seeked"}(m||(m={}));var T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.engine=null,e.initialState={isLoading:!1,playerSize:e.props.getPlayerSize(),videoSize:e.props.getVideoSize(),visibleHotspots:[],showHotspots:!1,hasError:!1},e.state=C({},e.initialState),e.showHotspots=function(){e.setState({showHotspots:!0})},e.notify=function(t){switch(t.type){case m.Monitor:case m.Seeked:e.syncVisibleHotspots()}},e._handleCuepoints=function(t){var n=t.hotspots,o=t.error;if(o||!n)return r("error","_handleCuepoints","failed to load cuepoints",{error:o?o.message:"missing hotspots array"}),void e.setState({isLoading:!1,hasError:!0});e.engine=new b(n),e.engine.updateLayout(e.state.playerSize,e.state.videoSize),e.setState({isLoading:!1,hasError:!1,visibleHotspots:[]},function(){e.syncVisibleHotspots()})},e.handleResize=function(){var t=e.props,n=t.getPlayerSize,o=t.getVideoSize;e.setState({playerSize:n(),videoSize:o()},function(){e.engine&&(e.engine.updateLayout(e.state.playerSize,e.state.videoSize),e.syncVisibleHotspots(!0))})},e.reset=function(){e.engine=null,e.setState(C({},e.initialState),function(){e.props.loadCuePoints(e._handleCuepoints)})},e.renderHotspots=function(t){if(!t)return null;var n=e.props.pauseVideo;return t.map(function(t){return Object(u.h)(g,{pauseVideo:n,key:t.id,visible:!0,hotspot:t})})},e}return w(e,t),e.prototype.componentDidMount=function(){this.reset()},e.prototype.syncVisibleHotspots=function(t){var e=this;void 0===t&&(t=!1);var n=this.props.getCurrentTime;this.setState(function(o){if(!e.engine)return{visibleHotspots:[]};var i=e.engine.updateTime(n(),t);if(i.snapshot)return{visibleHotspots:i.snapshot};if(!i.delta)return{visibleHotspots:[]};var r=i.delta,s=r.show,a=r.hide;if(0!==s.length||0!==a.length){var l=o.visibleHotspots;return s.forEach(function(t){-1===l.indexOf(t)&&l.push(t)}),a.forEach(function(t){var e=l.indexOf(t);-1!==e&&l.splice(e,1)}),{visibleHotspots:l}}})},e.prototype.render=function(){var t=this.state,e=t.visibleHotspots,n=t.showHotspots,o=n?this.renderHotspots(e):null,i={position:"absolute",display:"block"};return Object(u.h)("div",{style:i},o)},e}(u.Component),S=T,x=this&&this.__assign||function(){return x=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},x.apply(this,arguments)};mw.kalturaPluginWrapper(function(){mw.PluginManager.add("hotspots",mw.KBaseComponent.extend({_root:null,_videoSize:null,_wasPlayed:!1,stage:null,defaultConfig:{parent:"videoHolder",iphoneFullscreenSupport:!0,order:1},shouldEnableLogs:function(){try{-1!==document.URL.indexOf("debugKalturaPlayer")&&i("hotspots")}catch(t){}},handleVideoSizeChange:function(){var t=this.getPlayer().evaluate("{mediaProxy.entry}"),e=t.width,n=t.height;r("debug","plugin.handleVideoSizeChange","use entry size provided by player to calculate actual stage size",{width:e,height:n}),this._videoSize=e&&n?{width:e,height:n}:null,this.stage.handleResize()},setup:function(){this.enableIphoneFullscreen()&&(r("log","plugin.addBindings[playerReady]","iphone detected, prevent native fullscreen and use inline player"),mw.setConfig("EmbedPlayer.ExternalFullScreenControl",!0),this.getPlayer().inline=!0,this.getPlayer().useNativePlayerControls=function(){return!1}),this.shouldEnableLogs(),this.addBindings()},pauseVideo:function(){this.getPlayer().sendNotification("doPause")},getCuePoints:function(){return this.cuePoints},loadCuePoints:function(t){this.getKalturaClient().doRequest({service:"cuepoint_cuepoint",action:"list","filter:entryIdEqual":this.getPlayer().kentryid,"filter:objectType":"KalturaCuePointFilter","filter:cuePointTypeEqual":"annotation.Annotation","filter:tagsLike":"hotspots"},function(e){if(!e||e.code)t({error:{message:e.code||"failure"}});else{var n=[];(e.objects||[]).reduce(function(t,e){var n=a(e.partnerData),o=n.result;return o&&o.schemaVersion?(t.push({id:e.id,startTime:e.startTime,endTime:e.endTime,label:e.text,styles:o.styles,onClick:o.onClick,rawLayout:x({},o.layout)}),t):(r("warn","loadCuePoints","annotation '"+e.partnerData.id+"' has no schema version, skip annotation"),t)},n),t({hotspots:n})}})},getPlayerSize:function(){var t=this.getPlayer().getVideoHolder();return t?{width:t.width(),height:t.height()}:null},getVideoSize:function(){return this._videoSize?x({},this._videoSize):null},enableIphoneFullscreen:function(){return mw.isIphone()&&this.getConfig("iphoneFullscreenSupport")},enterFullscreenInIphone:function(){if(this.enableIphoneFullscreen()){r("log","plugin.addBindings[onToggleFullscreen]","handle fullscreen toggle manually");var t=this.getPlayer().layoutBuilder.fullScreenManager;if(!t.inFullScreen)return t.doContextTargetFullscreen(),void(t.inFullScreen=!0);t.restoreContextPlayer(),t.inFullScreen=!1}},addBindings:function(){var t=this;this.bind("onToggleFullscreen",function(){t.enterFullscreenInIphone()}),this.bind("playerReady",function(){var e={getCurrentTime:t._getCurrentTime.bind(t),loadCuePoints:t.loadCuePoints.bind(t),getPlayerSize:t.getPlayerSize.bind(t),getVideoSize:t.getVideoSize.bind(t),pauseVideo:t.pauseVideo.bind(t)};t._root=Object(u.render)(Object(u.h)(S,x({},e,{ref:function(e){return t.stage=e}})),jQuery('[id="hotspotsOverlay"]')[0])}),this.bind("updateLayout",function(){t.stage.handleResize()}),this.bind("firstPlay",function(){t._wasPlayed||(t.stage.showHotspots(),t._wasPlayed=!0),t.enterFullscreenInIphone()}),this.bind("seeked",function(){t._wasPlayed||(t.stage.showHotspots(),t._wasPlayed=!0)}),this.bind("onChangeMedia",function(){t._wasPlayed=!1,t._videoSize=null,Object(u.render)(Object(u.h)(null),jQuery('[id="hotspotsOverlay"]')[0],t._root),t._root=null,t.stage=null}),this.bind("monitorEvent",function(){t.stage.notify({type:m.Monitor})}),this.bind("mediaLoaded",function(){t.handleVideoSizeChange()}),this.bind("seeked",function(){t.stage.notify({type:m.Seeked})})},_getCurrentTime:function(){return 1e3*this.getPlayer().currentTime},getComponent:function(){return this.$el||(this.$el=jQuery("<div></div>").attr("id","hotspotsOverlay").css({position:"absolute",height:"100%",width:"100%"})),this.$el}}))})},KM04:function(t){"use strict";!function(){function e(){}function n(t,n){var o,i,r,s,a=j;for(s=arguments.length;s-- >2;)N.push(arguments[s]);for(n&&null!=n.children&&(N.length||N.push(n.children),delete n.children);N.length;)if((i=N.pop())&&void 0!==i.pop)for(s=i.length;s--;)N.push(i[s]);else"boolean"==typeof i&&(i=null),(r="function"!=typeof t)&&(null==i?i="":"number"==typeof i?i+="":"string"!=typeof i&&(r=!1)),r&&o?a[a.length-1]+=i:a===j?a=[i]:a.push(i),o=r;var l=new e;return l.nodeName=t,l.children=a,l.attributes=null==n?void 0:n,l.key=null==n?void 0:n.key,void 0!==O.vnode&&O.vnode(l),l}function o(t,e){for(var n in e)t[n]=e[n];return t}function i(t,e){return n(t.nodeName,o(o({},t.attributes),e),arguments.length>2?[].slice.call(arguments,2):t.children)}function r(t){!t.__d&&(t.__d=!0)&&1==E.push(t)&&(O.debounceRendering||I)(s)}function s(){var t,e=E;for(E=[];t=e.pop();)t.__d&&H(t)}function a(t,e,n){return"string"==typeof e||"number"==typeof e?void 0!==t.splitText:"string"==typeof e.nodeName?!t._componentConstructor&&l(t,e.nodeName):n||t._componentConstructor===e.nodeName}function l(t,e){return t.__n===e||t.nodeName.toLowerCase()===e.toLowerCase()}function u(t){var e=o({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var i in n)void 0===e[i]&&(e[i]=n[i]);return e}function p(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.__n=t,n}function h(t){var e=t.parentNode;e&&e.removeChild(t)}function d(t,e,n,o,i){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)n&&n(null),o&&o(t);else if("class"!==e||i)if("style"===e){if(o&&"string"!=typeof o&&"string"!=typeof n||(t.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var r in n)r in o||(t.style[r]="");for(var r in o)t.style[r]="number"==typeof o[r]&&!1===M.test(r)?o[r]+"px":o[r]}}else if("dangerouslySetInnerHTML"===e)o&&(t.innerHTML=o.__html||"");else if("o"==e[0]&&"n"==e[1]){var s=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),o?n||t.addEventListener(e,f,s):t.removeEventListener(e,f,s),(t.__l||(t.__l={}))[e]=o}else if("list"!==e&&"type"!==e&&!i&&e in t)c(t,e,null==o?"":o),null!=o&&!1!==o||t.removeAttribute(e);else{var a=i&&e!==(e=e.replace(/^xlink\:?/,""));null==o||!1===o?a?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof o&&(a?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),o):t.setAttribute(e,o))}else t.className=o||""}function c(t,e,n){try{t[e]=n}catch(t){}}function f(t){return this.__l[t.type](O.event&&O.event(t)||t)}function y(){for(var t;t=V.pop();)O.afterMount&&O.afterMount(t),t.componentDidMount&&t.componentDidMount()}function g(t,e,n,o,i,r){R++||(F=null!=i&&void 0!==i.ownerSVGElement,D=null!=t&&!("__preactattr_"in t));var s=_(t,e,n,o,r);return i&&s.parentNode!==i&&i.appendChild(s),--R||(D=!1,r||y()),s}function _(t,e,n,o,i){var r=t,s=F;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||i)?t.nodeValue!=e&&(t.nodeValue=e):(r=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(r,t),m(t,!0))),r.__preactattr_=!0,r;var a=e.nodeName;if("function"==typeof a)return P(t,e,n,o);if(F="svg"===a||"foreignObject"!==a&&F,a+="",(!t||!l(t,a))&&(r=p(a,F),t)){for(;t.firstChild;)r.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(r,t),m(t,!0)}var u=r.firstChild,h=r.__preactattr_,d=e.children;if(null==h){h=r.__preactattr_={};for(var c=r.attributes,f=c.length;f--;)h[c[f].name]=c[f].value}return!D&&d&&1===d.length&&"string"==typeof d[0]&&null!=u&&void 0!==u.splitText&&null==u.nextSibling?u.nodeValue!=d[0]&&(u.nodeValue=d[0]):(d&&d.length||null!=u)&&v(r,d,n,o,D||null!=h.dangerouslySetInnerHTML),w(r,e.attributes,h),F=s,r}function v(t,e,n,o,i){var r,s,l,u,p,d=t.childNodes,c=[],f={},y=0,g=0,v=d.length,b=0,w=e?e.length:0;if(0!==v)for(var C=0;C<v;C++){var T=d[C],S=T.__preactattr_,x=w&&S?T._component?T._component.__k:S.key:null;null!=x?(y++,f[x]=T):(S||(void 0!==T.splitText?!i||T.nodeValue.trim():i))&&(c[b++]=T)}if(0!==w)for(var C=0;C<w;C++){u=e[C],p=null;var x=u.key;if(null!=x)y&&void 0!==f[x]&&(p=f[x],f[x]=void 0,y--);else if(!p&&g<b)for(r=g;r<b;r++)if(void 0!==c[r]&&a(s=c[r],u,i)){p=s,c[r]=void 0,r===b-1&&b--,r===g&&g++;break}p=_(p,u,n,o),l=d[C],p&&p!==t&&p!==l&&(null==l?t.appendChild(p):p===l.nextSibling?h(l):t.insertBefore(p,l))}if(y)for(var C in f)void 0!==f[C]&&m(f[C],!1);for(;g<=b;)void 0!==(p=c[b--])&&m(p,!1)}function m(t,e){var n=t._component;n?k(n):(null!=t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),!1!==e&&null!=t.__preactattr_||h(t),b(t))}function b(t){for(t=t.lastChild;t;){var e=t.previousSibling;m(t,!0),t=e}}function w(t,e,n){var o;for(o in n)e&&null!=e[o]||null==n[o]||d(t,o,n[o],n[o]=void 0,F);for(o in e)"children"===o||"innerHTML"===o||o in n&&e[o]===("value"===o||"checked"===o?t[o]:n[o])||d(t,o,n[o],n[o]=e[o],F)}function C(t){var e=t.constructor.name;(U[e]||(U[e]=[])).push(t)}function T(t,e,n){var o,i=U[t.name];if(t.prototype&&t.prototype.render?(o=new t(e,n),L.call(o,e,n)):(o=new L(e,n),o.constructor=t,o.render=S),i)for(var r=i.length;r--;)if(i[r].constructor===t){o.__b=i[r].__b,i.splice(r,1);break}return o}function S(t,e,n){return this.constructor(t,n)}function x(t,e,n,o,i){t.__x||(t.__x=!0,(t.__r=e.ref)&&delete e.ref,(t.__k=e.key)&&delete e.key,!t.base||i?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,o),o&&o!==t.context&&(t.__c||(t.__c=t.context),t.context=o),t.__p||(t.__p=t.props),t.props=e,t.__x=!1,0!==n&&(1!==n&&!1===O.syncComponentUpdates&&t.base?r(t):H(t,1,i)),t.__r&&t.__r(t))}function H(t,e,n,i){if(!t.__x){var r,s,a,l=t.props,p=t.state,h=t.context,d=t.__p||l,c=t.__s||p,f=t.__c||h,_=t.base,v=t.__b,b=_||v,w=t._component,C=!1;if(_&&(t.props=d,t.state=c,t.context=f,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(l,p,h)?C=!0:t.componentWillUpdate&&t.componentWillUpdate(l,p,h),t.props=l,t.state=p,t.context=h),t.__p=t.__s=t.__c=t.__b=null,t.__d=!1,!C){r=t.render(l,p,h),t.getChildContext&&(h=o(o({},h),t.getChildContext()));var S,P,L=r&&r.nodeName;if("function"==typeof L){var z=u(r);s=w,s&&s.constructor===L&&z.key==s.__k?x(s,z,1,h,!1):(S=s,t._component=s=T(L,z,h),s.__b=s.__b||v,s.__u=t,x(s,z,0,h,!1),H(s,1,n,!0)),P=s.base}else a=b,S=w,S&&(a=t._component=null),(b||1===e)&&(a&&(a._component=null),P=g(a,r,h,n||!_,b&&b.parentNode,!0));if(b&&P!==b&&s!==w){var N=b.parentNode;N&&P!==N&&(N.replaceChild(P,b),S||(b._component=null,m(b,!1)))}if(S&&k(S),t.base=P,P&&!i){for(var j=t,I=t;I=I.__u;)(j=I).base=P;P._component=j,P._componentConstructor=j.constructor}}if(!_||n?V.unshift(t):C||(t.componentDidUpdate&&t.componentDidUpdate(d,c,f),O.afterUpdate&&O.afterUpdate(t)),null!=t.__h)for(;t.__h.length;)t.__h.pop().call(t);R||i||y()}}function P(t,e,n,o){for(var i=t&&t._component,r=i,s=t,a=i&&t._componentConstructor===e.nodeName,l=a,p=u(e);i&&!l&&(i=i.__u);)l=i.constructor===e.nodeName;return i&&l&&(!o||i._component)?(x(i,p,3,n,o),t=i.base):(r&&!a&&(k(r),t=s=null),i=T(e.nodeName,p,n),t&&!i.__b&&(i.__b=t,s=null),x(i,p,1,n,o),t=i.base,s&&t!==s&&(s._component=null,m(s,!1))),t}function k(t){O.beforeUnmount&&O.beforeUnmount(t);var e=t.base;t.__x=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?k(n):e&&(e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),t.__b=e,h(e),C(t),b(e)),t.__r&&t.__r(null)}function L(t,e){this.__d=!0,this.context=e,this.props=t,this.state=this.state||{}}function z(t,e,n){return g(n,t,{},!1,e,!1)}var O={},N=[],j=[],I="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,M=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,E=[],V=[],R=0,F=!1,D=!1,U={};o(L.prototype,{setState:function(t,e){var n=this.state;this.__s||(this.__s=o({},n)),o(n,"function"==typeof t?t(n,this.props):t),e&&(this.__h=this.__h||[]).push(e),r(this)},forceUpdate:function(t){t&&(this.__h=this.__h||[]).push(t),H(this,2)},render:function(){}});var W={h:n,createElement:n,cloneElement:i,Component:L,render:z,rerender:s,options:O};t.exports=W}()},pwNi:function(t,e,n){"use strict";var o=n("KM04"),i=function(t){return t&&t.default?t.default:t};if("function"==typeof i(n("CUnC"))){var r=document.body.firstElementChild,s=function(){var t=i(n("CUnC"));r=(0,o.render)((0,o.h)(t),document.body,r)};s()}}})});
//# sourceMappingURL=bundle.js.map